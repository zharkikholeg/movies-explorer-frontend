(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(42),i=a.n(n),r=(a(50),a(13)),o=a(15),l=a(12),j=a(7),d=a(3),m=(a(51),a(52),a(53),a(54),a(4)),h=a(0);var u=function(e){return console.log(e.loggedIn),e.loggedIn?Object(h.jsxs)("div",{className:"navtab",children:[Object(h.jsx)(m.b,{className:"navtab__link",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(m.b,{className:"navtab__link",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(m.b,{className:"navtab__link",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]}):Object(h.jsxs)("div",{className:"navtab",children:[Object(h.jsx)(m.b,{className:"navtab__link",to:"/signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(h.jsx)(m.b,{className:"navtab__link navtab__link_active",to:"/signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})},b=a.p+"static/media/logo.be2d72c0.svg",_=a.p+"static/media/web.872d9c2d.svg";var O=function(e){return Object(h.jsxs)("div",{className:"promo",children:[Object(h.jsxs)("div",{className:"promo__top-container",children:[Object(h.jsx)("img",{src:b,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",className:"promo__logo"}),Object(h.jsx)(u,{loggedIn:e.loggedIn})]}),Object(h.jsxs)("div",{className:"promo__wrapper",children:[Object(h.jsxs)("div",{className:"promo__wrapper-text",children:[Object(h.jsx)("h2",{className:"promo__heading",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438"}),Object(h.jsx)("h4",{className:"promo__subheading",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f"}),Object(h.jsx)("a",{href:"#more",className:"promo__button hover",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(h.jsx)("img",{src:_,alt:"\u0433\u043b\u043e\u0431\u0443\u0441 \u0438\u0437 \u0441\u043b\u043e\u0432 web",className:"promo__img"})]})]})};a(61);var v=function(e){return Object(h.jsxs)("div",{className:"project",id:"more",children:[Object(h.jsx)("h3",{className:"project__heading",children:"\u041e \u041f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(h.jsx)("div",{className:"project__delimiter"}),Object(h.jsxs)("div",{className:"project__mid-wrapper",children:[Object(h.jsxs)("div",{className:"project__feature",children:[Object(h.jsx)("h4",{className:"project__feature__heading",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(h.jsx)("p",{className:"project__feature__text",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(h.jsxs)("div",{className:"project__feature",children:[Object(h.jsx)("h4",{className:"project__feature__heading",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(h.jsx)("p",{className:"project__feature__text",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(h.jsxs)("div",{className:"project__bar-wrapper",children:[Object(h.jsx)("div",{className:"project__bar-green",children:Object(h.jsx)("p",{className:"project__bar-green__text",children:" 1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(h.jsx)("div",{className:"project__bar-grey",children:Object(h.jsx)("p",{className:"project__bar-grey__text",children:" 4 \u043d\u0435\u0434\u0435\u043b\u0438"})})]}),Object(h.jsxs)("div",{className:"project__subtitles-wrapper",children:[Object(h.jsx)("div",{className:"project__subtitles-small",children:Object(h.jsx)("p",{className:"project__subtitles-text",children:"Back-end"})}),Object(h.jsx)("div",{className:"project__subtitles-big",children:Object(h.jsx)("p",{className:"project__subtitles-text",children:"Front-end"})})]})]})};a(62);var g=function(e){return Object(h.jsxs)("div",{className:"tech",children:[Object(h.jsx)("h3",{className:"tech__heading",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(h.jsx)("div",{className:"project__delimiter"}),Object(h.jsxs)("div",{className:"tech__mid-wrapper",children:[Object(h.jsx)("h2",{className:"tech__big-text",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(h.jsx)("p",{className:"tech__small-text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(h.jsxs)("div",{className:"tech__tags-wrapper",children:[Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"HTML"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"CSS"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"JS"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"React"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"Git"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"Express.js"})}),Object(h.jsx)("div",{className:"tech__tag",children:Object(h.jsx)("p",{className:"tech__tag__text",children:"mongoDB"})})]})]})]})},p=(a(63),a.p+"static/media/ava.2c4d3a82.jpg");var f=function(e){return Object(h.jsxs)("div",{className:"me",children:[Object(h.jsx)("h3",{className:"tech__heading",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(h.jsx)("div",{className:"project__delimiter"}),Object(h.jsxs)("div",{className:"me__wrapper",children:[Object(h.jsxs)("div",{className:"me__text-wrapper",children:[Object(h.jsx)("h2",{className:"me__name",children:"\u041e\u043b\u0435\u0433"}),Object(h.jsx)("p",{className:"me__bio",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 26 \u043b\u0435\u0442"}),Object(h.jsx)("p",{className:"me__text",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(h.jsxs)("div",{className:"me__links",children:[Object(h.jsx)("a",{className:"me__link hover",href:"https://www.facebook.com/yandex.practicum/",children:"Facebook"}),Object(h.jsx)("a",{className:"me__link hover",href:"https://github.com/zharkikholeg",children:"Github"})]})]}),Object(h.jsx)("img",{className:"me__ava",src:p,alt:"\u0430\u0432\u0430\u0442\u0430\u0440"})]})]})},x=(a(64),a.p+"static/media/arrow.1c63a7f5.svg");var N=function(e){return Object(h.jsxs)("div",{className:"portfolio",children:[Object(h.jsx)("h3",{className:"portfolio__heading",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(h.jsxs)("div",{className:"portfolio__unit hover",onClick:function(){return window.open("https://github.com/zharkikholeg/how-to-learn","_blank")},children:[Object(h.jsx)("a",{className:"portfolio__unit__name",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("img",{className:"portfolio__unit__arrow",src:x,alt:"\u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430"}),Object(h.jsx)("div",{className:"portfolio__unit__devider"})]}),Object(h.jsxs)("div",{className:"portfolio__unit hover",onClick:function(){return window.open("https://github.com/zharkikholeg/russian-travel","_blank")},children:[Object(h.jsx)("a",{className:"portfolio__unit__name",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(h.jsx)("img",{className:"portfolio__unit__arrow",src:x,alt:"\u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430"}),Object(h.jsx)("div",{className:"portfolio__unit__devider"})]}),Object(h.jsxs)("div",{className:"portfolio__unit hover",onClick:function(){return window.open("https://github.com/zharkikholeg/react-mesto-api-full ","_blank")},children:[Object(h.jsx)("a",{className:"portfolio__unit__name",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(h.jsx)("img",{className:"portfolio__unit__arrow",src:x,alt:"\u0441\u0442\u0440\u0435\u043b\u043e\u0447\u043a\u0430"}),Object(h.jsx)("div",{className:"portfolio__unit__devider"})]})]})};a(65);var k=function(e){return Object(h.jsxs)("footer",{className:"footer",children:[Object(h.jsx)("p",{className:"footer__text",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(h.jsx)("div",{className:"footer__devider"}),Object(h.jsxs)("div",{className:"footer__wrapper",children:[Object(h.jsx)("p",{className:"footer__year",children:"\xa9 2021"}),Object(h.jsxs)("div",{className:"footer__links",children:[Object(h.jsx)("a",{className:"footer__link hover",href:"https://practicum.yandex.ru/",target:"_blank",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(h.jsx)("a",{className:"footer__link hover",href:"https://github.com/zharkikholeg",target:"_blank",children:"Github"}),Object(h.jsx)("a",{className:"footer__link hover",href:"https://www.facebook.com/yandex.practicum/",target:"_blank",children:"Facebook"})]})]})]})};var S=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{loggedIn:e.loggedIn}),Object(h.jsx)(v,{}),Object(h.jsx)(g,{}),Object(h.jsx)(f,{}),Object(h.jsx)(N,{}),Object(h.jsx)(k,{})]})},w=(a(23),a(5)),y=a(45),C=a.n(y),I={name:function(e){if(""===e.trim())return"\u0418\u043c\u044f \u044d\u0442\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"},email:function(e){return""===e.trim()?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b.":C.a.isEmail(e)?void 0:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441"},password:function(e){if(e.trim().length<=5)return"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 \u0448\u0435\u0441\u0442\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}},M=a(19),E=a(20),L=new(function(){function e(t){Object(M.a)(this,e),this.url=t.url,this.headers=t.headers}return Object(E.a)(e,[{key:"_getResponseData",value:function(e){return e.ok?e.json():Promise.reject(e)}},{key:"register",value:function(e,t,a){return fetch("".concat(this.url,"/signup"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e,email:t,password:a})}).then((function(e){return e.ok?e.json():e})).catch((function(e){console.log(e)}))}},{key:"authorize",value:function(e,t){return fetch("".concat(this.url,"/signin"),{method:"POST",headers:this.headers,body:JSON.stringify({email:e,password:t})}).then((function(e){return e.json()})).then((function(e){if(e.token)return localStorage.setItem("jwt",e.token),e})).catch((function(e){return console.log(e)}))}},{key:"getMe",value:function(e){var t=this;return fetch("".concat(this.url,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return t._getResponseData(e)}))}},{key:"updateMe",value:function(e,t){return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e,email:t})}).then((function(e){return e.ok?e.json():e})).catch((function(e){console.log(e)}))}},{key:"addMovie",value:function(e){var t=this,a=e.country,c=e.director,s=e.duration,n=e.year,i=e.description,r=e.image,o=e.trailer,l=e.thumbnail,j=e.nameRU,d=e.nameEN,m=e.movieId;return console.log(a),fetch("".concat(this.url,"/movies"),{method:"POST",headers:this.headers,body:JSON.stringify({country:a,director:c,duration:s,year:n,description:i,image:r,trailer:o,thumbnail:l,nameRU:j,nameEN:d,movieId:m})}).then((function(e){return t._getResponseData(e)}))}},{key:"getMovies",value:function(e){var t=this;return fetch("".concat(this.url,"/movies"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){return t._getResponseData(e)}))}},{key:"deleteMovie",value:function(e){var t=this;return fetch("".concat(this.url,"/movies/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t._getResponseData(e)}))}}]),e}())({url:"https://api.olegzdiplom.nomoredomains.rocks",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("jwt"))}});var F=function(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],i=a[1],u=Object(c.useState)({}),_=Object(d.a)(u,2),O=_[0],v=_[1],g=Object(c.useState)(!1),p=Object(d.a)(g,2),f=p[0],x=p[1],N=Object(c.useState)(!1),k=Object(d.a)(N,2),S=k[0],y=k[1],C=Object(c.useState)(!1),M=Object(d.a)(C,2),E=M[0],F=M[1],R=Object(w.g)();function A(e){console.log(O);var t=e.target,a=t.name,c=t.value;i(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},a,c)));O[a];var s=Object(r.a)(O,[a].map(o.a)),d=I[a](c);v(Object(j.a)(Object(j.a)({},s),d&&Object(l.a)({},a,n[a]&&d)))}return s.a.useEffect((function(){0===Object.keys(O).length&&Object.keys(n).length>2?x(!0):x(!1)}),[n,O]),Object(h.jsxs)("form",{className:"register",onSubmit:function(t){t.preventDefault(),f&&L.register(n.name,n.email,n.password).then((function(t){console.log(t),400===t.status?y(!0):409===t.status?F(!0):L.authorize(n.email,n.password).then((function(t){console.log(t),t.token&&(i({}),e.handleLogin(n.email),R.push("/movies"))})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}))},children:[e.loggedIn&&Object(h.jsx)(w.a,{to:"/movies"}),Object(h.jsx)("img",{src:b,className:"register__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",onClick:function(){return e.history.push("/")}}),Object(h.jsx)("h1",{className:"register__heading",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(h.jsx)("p",{className:"register__label",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"register__input",type:"text",id:"name",name:"name",onChange:A}),Object(h.jsx)("p",{className:"register__error",children:O.name}),Object(h.jsx)("p",{className:"register__label",children:"Email"}),Object(h.jsx)("input",{className:"register__input",type:"email",id:"email",name:"email",onChange:A}),Object(h.jsx)("p",{className:"register__error",children:O.email}),Object(h.jsx)("p",{className:"register__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"register__input",type:"password",id:"password",name:"password",onChange:A}),Object(h.jsx)("p",{className:"register__error",children:O.password}),S&&Object(h.jsx)("p",{className:"register__error",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),E&&Object(h.jsx)("p",{className:"register__error",children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),Object(h.jsx)("input",{className:"register__submit ".concat(f?"":"register__submit_inactive"),type:"submit",value:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(h.jsxs)("div",{className:"register__footer-wrapper",children:[Object(h.jsx)("p",{className:"register__question",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(h.jsx)(m.b,{to:"/signin",className:"register__link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};a(146);var R=Object(w.i)((function(e){var t=Object(c.useState)({}),a=Object(d.a)(t,2),n=a[0],i=a[1],u=Object(c.useState)({}),_=Object(d.a)(u,2),O=_[0],v=_[1],g=Object(c.useState)(!1),p=Object(d.a)(g,2),f=p[0],x=p[1],N=Object(c.useState)(!1),k=Object(d.a)(N,2),S=k[0],y=k[1];function C(e){console.log(O);var t=e.target,a=t.name,c=t.value;i(Object(j.a)(Object(j.a)({},n),{},Object(l.a)({},a,c)));O[a];var s=Object(r.a)(O,[a].map(o.a)),d=I[a](c);v(Object(j.a)(Object(j.a)({},s),d&&Object(l.a)({},a,n[a]&&d)))}return s.a.useEffect((function(){0===Object.keys(O).length&&Object.keys(n).length>1?x(!0):x(!1)}),[n,O]),Object(h.jsxs)("form",{className:"register",onSubmit:function(t){t.preventDefault(),f&&L.authorize(n.email,n.password).then((function(t){t?(console.log(t),t.token&&(i({}),e.handleLogin(n.email),e.history.push("/movies"))):(console.log("\u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"),y(!0))})).catch((function(e){return console.log(e)}))},children:[e.loggedIn&&Object(h.jsx)(w.a,{to:"/movies"}),Object(h.jsx)("img",{src:b,className:"register__logo",onClick:function(){return e.history.push("/")},alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(h.jsx)("h1",{className:"register__heading",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(h.jsx)("p",{className:"register__label",children:"Email"}),Object(h.jsx)("input",{className:"register__input",type:"email",id:"email",name:"email",value:n.email||"",onChange:C}),Object(h.jsx)("p",{className:"register__error",children:O.email}),Object(h.jsx)("p",{className:"register__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"register__input",type:"password",id:"password",name:"password",value:n.password||"",onChange:C}),Object(h.jsx)("p",{className:"register__error",children:O.password}),S&&Object(h.jsx)("p",{className:"register__error",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(h.jsx)("input",{className:"register__submit ".concat(f?"":"register__submit_inactive"),type:"submit",value:"\u0412\u043e\u0439\u0442\u0438"}),Object(h.jsxs)("div",{className:"register__footer-wrapper",children:[Object(h.jsx)("p",{className:"register__question",children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(h.jsx)(m.b,{to:"/signup",className:"register__link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})),A=(a(147),a(148),a(149),a.p+"static/media/person.a10dba0e.svg"),T=(a(150),a.p+"static/media/cross.5270bfc0.svg");var z=function(e){var t=Object(w.h)().pathname;return Object(h.jsx)("div",{className:"mobmenu ".concat(e.opened?"mobmenu_active":" "),children:Object(h.jsxs)("div",{className:"mobmenu__container",children:[Object(h.jsx)("img",{src:T,alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u043c\u0435\u043d\u044e",className:"mobmenu__close",onClick:e.handleMenuClose}),Object(h.jsx)(m.b,{className:"mobmenu__link",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(h.jsx)(m.b,{className:"mobmenu__link ".concat("/movies"===t?"mobmenu__link_active":" "),to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(m.b,{className:"mobmenu__link ".concat("/saved-movies"===t?"mobmenu__link_active":" "),to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsxs)("div",{className:"mobmenu__bottom-wrapper",children:[Object(h.jsx)(m.b,{className:"mobmenu__account",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(h.jsx)("div",{className:"mobmenu__image-wrapper",children:Object(h.jsx)("img",{src:A,alt:"\u0432\u043e\u0439\u0442\u0438",className:"mobmenu__person"})})]})]})})};var D=function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),s=a[0],n=a[1],i=Object(w.g)();return Object(h.jsxs)("nav",{className:"nav",children:[Object(h.jsx)("img",{src:b,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f",className:"nav__logo",onClick:function(){return i.push("/")}}),Object(h.jsxs)("div",{className:"nav__middle",children:[Object(h.jsx)(m.b,{className:"nav__link",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(h.jsx)(m.b,{className:"nav__link",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(h.jsxs)("div",{className:"nav__right",children:[Object(h.jsx)(m.b,{className:"nav__account",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(h.jsx)("div",{className:"nav__image-wrapper",children:Object(h.jsx)("img",{src:A,alt:"\u0432\u043e\u0439\u0442\u0438",className:"nav__person"})}),Object(h.jsxs)("div",{className:"nav__burger",onClick:function(){n(!0)},children:[Object(h.jsx)("div",{className:"nav__burger__line"}),Object(h.jsx)("div",{className:"nav__burger__line"}),Object(h.jsx)("div",{className:"nav__burger__line"})]})]}),Object(h.jsx)(z,{opened:s,handleMenuClose:function(){n(!1)}})]})};var J=function(e){return Object(h.jsx)("header",{className:"header",children:Object(h.jsx)(D,{})})},P=(a(151),a.p+"static/media/search.3f4581a2.svg"),U=a.p+"static/media/tumb.254b6755.svg";var B=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("form",{className:"search",onSubmit:e.handleSearchSubmit,children:[Object(h.jsxs)("div",{className:"search__left",children:[Object(h.jsx)("img",{src:P,className:"search__icon",alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(h.jsx)("input",{className:"search__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",type:"text",id:"film",name:"film",onChange:e.handleSearchChange,value:e.searchValue}),Object(h.jsx)("input",{className:"search__submit hover",type:"submit",value:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(h.jsxs)("div",{className:"search__right",children:[Object(h.jsx)("div",{className:"search__devider"}),Object(h.jsx)("div",{className:"search__slider ".concat(e.shortActive?"search__slider_active":""),onClick:e.handleShortClick,children:Object(h.jsx)("img",{src:U,className:"search__tumb ".concat(e.shortActive?"search__tumb_active":""),alt:"\u0442\u0443\u043c\u0431\u043b\u0435\u0440 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u044f"})}),Object(h.jsx)("div",{className:"search__short",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})]}),Object(h.jsx)("div",{className:"search__delimiter"})]})},V=(a(152),function(e){return e.preloader?Object(h.jsx)("div",{className:"preloader",children:Object(h.jsx)("div",{className:"preloader__container",children:Object(h.jsx)("span",{className:"preloader__round"})})}):Object(h.jsx)(h.Fragment,{})}),G=(a(153),a(154),a.p+"static/media/like_active.12bee29d.svg"),q=a.p+"static/media/like_inactive.c2041ece.svg";var H=function(e){var t=null;t="/saved-movies"===Object(w.h)().pathname?T:G;var a=null;a="/saved-movies"===Object(w.h)().pathname?e.card.image:"https://api.nomoreparties.co".concat(e.card.image.url);var c="".concat(Math.floor(e.card.duration/60),"\u0447 ").concat(e.card.duration%60,"\u043c");return Object(h.jsxs)("div",{className:"card",children:[Object(h.jsxs)("div",{className:"card__text",children:[Object(h.jsx)("h5",{className:"card__name",onClick:function(){return window.open(e.card.trailerLink,"_blank")},children:e.card.nameRU}),Object(h.jsx)("p",{className:"card__time",children:c}),Object(h.jsx)("img",{src:e.liked?t:q,alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u043b\u0430\u0439\u043a\u0430",className:"card__like",onClick:function(){e.handleLike(e.card)}})]}),Object(h.jsx)("img",{src:a,alt:"\u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u0444\u0438\u043b\u044c\u043c\u0430 ".concat(e.name),className:"card__img",onClick:function(){return window.open(e.card.trailerLink,"_blank")}})]})};var W=function(e){var t=s.a.useState(7),a=Object(d.a)(t,2),c=a[0],n=a[1],i=s.a.useState(7),r=Object(d.a)(i,2),o=r[0],l=r[1],j=e.likedMovies,m=function(){window.innerWidth<480?(n(5),l(5)):(n(7),l(7))};s.a.useEffect((function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]);var u=Object(w.h)().pathname;return Object(h.jsxs)("div",{className:"cards",children:[e.showError?Object(h.jsx)("p",{className:"cards__error",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}):Object(h.jsx)(h.Fragment,{}),e.notFound?Object(h.jsx)("p",{className:"cards__notfound",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(h.jsx)(h.Fragment,{}),e.movies.map((function(t){return Object(h.jsx)(H,{card:t,liked:j.some((function(e){return e.movieId===t.id||e.movieId===t.movieId})),handleLike:e.handleLike},"/movies"===u?t.id:t.movieId)})).slice(0,c),e.movies.length>c?Object(h.jsx)("div",{className:"cards__more",onClick:function(){n(c+o)},children:Object(h.jsx)("p",{className:"cards__more__text",children:"\u0415\u0449\u0451"})}):Object(h.jsx)(h.Fragment,{})]})},K=new(function(){function e(t){Object(M.a)(this,e),this.url=t.url,this.headers=t.headers}return Object(E.a)(e,[{key:"getAllMovies",value:function(){return fetch(this.url,{method:"GET",headers:this.headers}).then((function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}}]),e}())({url:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/json"}});var Q=function(e){var t=s.a.useState([]),a=Object(d.a)(t,2),c=a[0],n=a[1],i=s.a.useState([]),r=Object(d.a)(i,2),o=r[0],l=r[1],j=s.a.useState([]),m=Object(d.a)(j,2),u=m[0],b=m[1],_=s.a.useState(!1),O=Object(d.a)(_,2),v=O[0],g=O[1],p=s.a.useState(""),f=Object(d.a)(p,2),x=f[0],N=f[1],S=s.a.useState(!1),w=Object(d.a)(S,2),y=w[0],C=w[1],I=s.a.useState(!1),M=Object(d.a)(I,2),E=M[0],F=M[1],R=s.a.useState(!1),A=Object(d.a)(R,2),T=A[0],z=A[1];function D(e,t,a){localStorage.setItem("searchResult",JSON.stringify(e)),localStorage.setItem("searchValue",t),localStorage.setItem("shortActive",a)}return s.a.useEffect((function(){e.tokenCheck();var t=localStorage.getItem("jwt");e.getMovies(t),function(){var e=JSON.parse(localStorage.getItem("searchResult")),t=localStorage.getItem("searchValue"),a="true"===localStorage.getItem("shortActive");if(null!=e)if(b(e),N(t),C(a),a){var c=e.filter((function(e){return e.duration<41}));l(c)}else l(e);else g(!0),K.getAllMovies().then((function(e){l(e),g(!1)}))}(),function(){var t=localStorage.getItem("jwt");L.getMe(t).then((function(t){t&&e.updateContext(t)}))}()}),[]),Object(h.jsxs)("div",{className:"movies",children:[Object(h.jsx)(J,{}),Object(h.jsx)(B,{handleSearchChange:function(e){N(e.target.value),localStorage.setItem("searchValue",e.target.value)},handleSearchSubmit:function(e){if(e.preventDefault(),C(!1),g(!0),console.log(x),0!==c.length){var t=c.filter((function(e){return e.nameRU.toLowerCase().includes(x.toLowerCase())}));0===t.length?z(!0):z(!1),b(t),l(t),g(!1),D(t,x,y)}else K.getAllMovies().then((function(e){n(e),console.log(c),localStorage.setItem("allMovies",JSON.stringify(e));var t=e.filter((function(e){return e.nameRU.toLowerCase().includes(x.toLowerCase())}));0===t.length?z(!0):z(!1),b(t),l(t),g(!1),D(t,x,y)})).catch((function(e){F(!0)}))},shortActive:y,handleShortClick:function(){if(y)console.log("\u043d\u0443\u0436\u043d\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"),l(u);else{console.log("\u043d\u0443\u0436\u043d\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c"),console.log(u);var e=u.filter((function(e){return e.duration<41}));l(e)}localStorage.setItem("shortActive",!y),C(!y)},showError:E,searchValue:x}),Object(h.jsx)(V,{preloader:v}),Object(h.jsx)(W,{movies:o,notFound:T,handleLike:e.handleLike,likedMovies:e.likedMovies}),Object(h.jsx)(k,{})]})},X=(a(155),s.a.createContext());var Y=function(e){var t=Object(w.g)();return Object(h.jsxs)("div",{className:"profile",children:[Object(h.jsx)(J,{}),Object(h.jsxs)("form",{className:"profile__wrapper",onSubmit:e.handleSubmit,children:[Object(h.jsxs)("h2",{className:"profile__greeting",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",e.currentUser.name]}),Object(h.jsxs)("div",{className:"profile__input-wrapper",children:[Object(h.jsx)("p",{className:"profile__label",children:"\u0418\u043c\u044f"}),Object(h.jsx)("input",{className:"profile__input",type:"text",id:"name",name:"name",value:e.userInfo.name,onChange:e.handleChange})]}),Object(h.jsx)("div",{className:"profile__devider"}),Object(h.jsxs)("div",{className:"profile__input-wrapper",children:[Object(h.jsx)("p",{className:"profile__label",children:"Email"}),Object(h.jsx)("input",{className:"profile__input",type:"email",id:"email",name:"email",value:e.userInfo.email,onChange:e.handleChange})]}),Object(h.jsx)("input",{className:"profile__submit ".concat(e.submitPossible?"profile__submit_active hover":""),type:"submit",value:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),e.showEmailError&&Object(h.jsx)("p",{className:"register__error",children:"\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0439 \u0432\u0430\u043c\u0438 email \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),Object(h.jsx)("p",{className:"profile__exit hover",onClick:function(){localStorage.clear(),e.handleLogout(),t.push("/")},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]}),Object(h.jsx)(k,{})]})};a(156);var Z=function(e){var t=Object(w.g)();return console.log(t),console.log("page rendered"),Object(h.jsxs)("div",{className:"notfound",children:[Object(h.jsx)("p",{className:"notfound__code",children:"404"}),Object(h.jsx)("p",{className:"notfound__text",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(h.jsx)("p",{className:"notfound__link",onClick:function(){t.go(-2)},children:"\u041d\u0430\u0437\u0430\u0434"})]})};a(157);var $=function(e){var t=s.a.useState(!1),a=Object(d.a)(t,2),c=a[0],n=(a[1],s.a.useState(!1)),i=Object(d.a)(n,2),r=i[0];return i[1],console.log(e.likedMovies),Object(h.jsxs)("div",{className:"saved-movies",children:[Object(h.jsx)(J,{}),Object(h.jsx)(B,{handleSearchChange:e.handleSavedSearchChange,handleSearchSubmit:e.handleSavedSearchSubmit,shortActive:e.shortActive,handleShortClick:e.handleShortClick,showError:r,searchValue:e.savedSearchValue}),Object(h.jsx)(V,{preloader:c}),Object(h.jsx)(W,{movies:e.likedMovies,notFound:!1,handleLike:e.handleLike,likedMovies:e.likedMovies}),Object(h.jsx)(k,{})]})},ee=["component"],te=function(e){var t=e.component,a=Object(r.a)(e,ee);return Object(h.jsx)(w.b,{children:function(){return a.loggedIn?Object(h.jsx)(t,Object(j.a)({},a)):Object(h.jsx)(w.a,{to:"./signin"})}})};var ae=Object(w.i)((function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)({}),m=Object(d.a)(i,2),u=m[0],b=m[1],_=Object(w.g)(),O=Object(w.h)(),v=Object(c.useState)([]),g=Object(d.a)(v,2),p=g[0],f=g[1],x=Object(c.useState)([]),N=Object(d.a)(x,2),k=N[0],y=N[1],C=Object(c.useState)([]),M=Object(d.a)(C,2),E=M[0],A=M[1],T=Object(c.useState)(""),z=Object(d.a)(T,2),D=z[0],J=z[1],P=Object(c.useState)(!1),U=Object(d.a)(P,2),B=U[0],V=U[1],G=Object(c.useState)({}),q=Object(d.a)(G,2),H=q[0],W=q[1],K=Object(c.useState)({}),ee=Object(d.a)(K,2),ae=ee[0],ce=ee[1],se=Object(c.useState)(!1),ne=Object(d.a)(se,2),ie=ne[0],re=ne[1],oe=Object(c.useState)(!1),le=Object(d.a)(oe,2),je=le[0],de=le[1];function me(){n(!0)}function he(){if(s)_.push(O);else if(localStorage.getItem("jwt")){var e=localStorage.getItem("jwt");L.getMe(e).then((function(e){e&&(n(!0),b(e),_.push(O))}))}}function ue(e){var t=localStorage.getItem("jwt"),a=p.some((function(t){return t.movieId===e.id||t.movieId===e.movieId}));console.log(a),a?p.some((function(a){return a.movieId===e.id||a.movieId===e.movieId?L.deleteMovie(a._id).then((function(){be(t),y([])})).catch((function(e){console.log(e)})):""})):L.addMovie({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),trailer:e.trailerLink,nameRU:e.nameRU,nameEN:e.nameEN,thumbnail:"https://api.nomoreparties.co".concat(e.image.url),movieId:e.id}).then((function(){be(t)})).catch((function(e){console.log(e)}))}Object(c.useEffect)((function(){he()}),[]),Object(c.useEffect)((function(){ae&&0===Object.keys(ae).length&&Object.keys(H).length>1&&(H.name!==u.name||H.email!==u.email?(console.log(H.name!==u.name),console.log(H.email!==u.email),re(!0)):re(!1))}),[ae,u.email,u.name,H.email,H.name]);var be=function(e){L.getMovies(e).then((function(e){localStorage.setItem("saved",JSON.stringify(e));var t=e,a=localStorage.getItem("jwt");L.getMe(a).then((function(e){var a=t.filter((function(t){return t.owner==e[0]._id}));console.log("getMovies called"),f(a),y(a),A(a),localStorage.setItem("saved",JSON.stringify(a))})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))};return Object(h.jsx)("div",{className:"page",children:Object(h.jsx)(X.Provider,{value:u,children:Object(h.jsxs)(w.d,{children:[Object(h.jsx)(w.b,{exact:!0,path:"/",children:Object(h.jsx)(S,{loggedIn:s})}),Object(h.jsx)(te,{path:"/movies",component:Q,loggedIn:s,handleLike:ue,likedMovies:p,tokenCheck:he,updateContext:function(e){b(e[0]),W({name:e[0].name,email:e[0].email})},getMovies:be}),Object(h.jsx)(te,{path:"/saved-movies",component:$,loggedIn:s,handleLike:ue,likedMovies:E,handleSavedSearchSubmit:function(e){e.preventDefault(),V(!1),console.log("search");var t=p.filter((function(e){return e.nameRU.toLowerCase().includes(D.toLowerCase())}));y(t),A(t)},handleSavedSearchChange:function(e){J(e.target.value)},savedSearchValue:D,handleShortClick:function(){if(B)A(k);else{var e=k.filter((function(e){return e.duration<41}));A(e)}V(!B)},shortActive:B}),Object(h.jsx)(te,{path:"/profile",component:Y,loggedIn:s,handleLogout:function(){n(!1)},userInfo:H,handleChange:function(e){var t=e.target,a=t.name,c=t.value;W(Object(j.a)(Object(j.a)({},H),{},Object(l.a)({},a,c))),ae[a];var s=Object(r.a)(ae,[a].map(o.a)),n=I[a](c);ce(Object(j.a)(Object(j.a)({},s),n&&Object(l.a)({},a,H[a]&&n)))},currentUser:u,submitPossible:ie,handleSubmit:function(e){e.preventDefault(),ie&&L.updateMe(H.name,H.email).then((function(e){console.log(e),409==e.status?(console.log("email error"),de(!0)):b({name:H.name,email:H.email})}))},showEmailError:je}),Object(h.jsx)(w.b,{path:"/signup",children:Object(h.jsx)(F,{handleLogin:me,loggedIn:s})}),Object(h.jsx)(w.b,{path:"/signin",children:Object(h.jsx)(R,{handleLogin:me,loggedIn:s,tokenCheck:he})}),Object(h.jsx)(w.b,{path:"*",children:Object(h.jsx)(Z,{})})]})})})})),ce=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,159)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(m.a,{children:Object(h.jsx)(ae,{})})}),document.getElementById("root")),ce()},23:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){}},[[158,1,2]]]);
//# sourceMappingURL=main.33a48cb7.chunk.js.map